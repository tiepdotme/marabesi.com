<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>GitHub badges! (PHP repository)</title>
    <meta name="description"
      content="Disclaimer : If you don’t know what are badges I’d suggest a quick view tohttps://poser.pugx.org whichis a open source project with badges for PHP projects. ...">

    <link rel="canonical" href="https://marabesi.com/php/2015/06/28/github-badges-php-repository.html">
    <link rel="alternate" type="application/rss+xml" title="Marabesi"
      href="https://marabesi.com/feed.xml">

    <meta property="og:title" content="GitHub badges! (PHP repository)" />
    <meta property="og:site_name" content="marabesi.com" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://marabesi.com/php/2015/06/28/github-badges-php-repository.html" />
    <meta property="og:image"
      content="https://marabesi.com/images/posts/2015-06-28-github-badges-php-repository/cover.png" />
    <meta property="og:description"
      content="Disclaimer : If you don’t know what are badges I’d suggest a quick view tohttps://poser.pugx.org whichis a open source project with badges for PHP projects. ..." />

    <meta property="fb:app_id" content="536384943068161" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@MatheusMarabesi">
    <meta name="twitter:title" content="GitHub badges! (PHP repository)">
    <meta name="twitter:description"
      content="Disclaimer : If you don’t know what are badges I’d suggest a quick view tohttps://poser.pugx.org whichis a open source project with badges for PHP projects. ...">
    <meta name="twitter:creator" content="@MatheusMarabesi">
    <meta name="twitter:image:src"
      content="https://marabesi.com/images/posts/2015-06-28-github-badges-php-repository/cover.png">

    <meta name="keywords" content="badges,build,CI,coveralls,downloads,git,github,license,packagist,php,poser,travis,travis CI" />

    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">

    <link href="/assets/main-bundle.css" rel="stylesheet" />

    <!-- See https://goo.gl/OOhYW5 -->
    <link rel="manifest" href="/manifest.json">

    <!-- See https://goo.gl/qRE0vM -->
    <meta name="theme-color" content="#3f51b5">

    <!-- Add to homescreen for Chrome on Android. Fallback for manifest.json -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Marabesi">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Marabesi">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="/images/manifest/icon-48x48.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/manifest/icon-72x72.png">
    <link rel="apple-touch-icon" sizes="96x96" href="/images/manifest/icon-96x96.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/manifest/icon-144x144.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/images/manifest/icon-192x192.png">

    <!-- Tile icon for Windows 8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/images/manifest/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#3f51b5">
    <meta name="msapplication-tap-highlight" content="no">
  </head>

  <body class="font-sans overflow-x-hidden">
    <button class="update-button w-full text-white bg-marabesi-purple p-5 m-auto fixed pin-b z-50 hidden focus:outline-none font-bold">Update found, click to update</button>

    <div class="menu-wrapper flex fixed w-full bg-white z-50">
      <nav class="top-menu hidden md:flex justify-start container lg:justify-center md:m-auto md:pt-2 md:pb-2">
        <a href="/" class="hidden md:block">
          <img class="logo w-18 p-1" data-src="/images/logo.png" width="100" alt="marabesi.com logo - two m's and one dot" title="marabesi.com logo - two m's and one dot" />
        </a>

        <ul id="menu-list" class="container-menu hidden flex-col pl-5 md:flex md:pl-0 md:flex-row md:m-auto lg:m-0">
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/talks">
                Talks
              </a>
            </li>
          
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/about">
                About
              </a>
            </li>
          
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/newbie-guide">
                Dev guide
              </a>
            </li>
          
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/resources">
                software development
              </a>
            </li>
          
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/tests/">
                Tests
              </a>
            </li>
          
          
           
            <li class="item pt-2 pb-2 md:p-2">
              <a class="item-link no-underline" href="/calendar">
                Conferences
              </a>
            </li>
          
          
        </ul>
      </nav>

      <div class="w-full flex items-center h-12 pl-2 bg-white md:hidden">
        <svg id="menu" class="cursor-pointer w-10 h-10 p-2 text-marabesi-pink fill-current" xmlns="http://www.w3.org/2000/svg"
          x="0px" y="0px" width="50" height="50" viewBox="0 0 24 24">
          <path
            style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;block-progression:tb;isolation:auto;mix-blend-mode:normal"
            d="M 2 5 L 2 7 L 22 7 L 22 5 L 2 5 z M 2 11 L 2 13 L 22 13 L 22 11 L 2 11 z M 2 17 L 2 19 L 22 19 L 22 17 L 2 17 z"
            font-weight="400" font-family="sans-serif" white-space="normal" overflow="visible"></path>
        </svg>
      </div>
    </div>

    <div class="flex flex-col items-center justify-center p-5">
      <input type="text" id="search-input" placeholder="search" aria-label="search" class="focus:outline-none border border-marabesi-purple text-marabesi-purple w-full p-3 mb-2 container mt-20 lg:mt-12">
      <ul id="results-container"></ul>
    </div>

    <div class="shell-content">
      <div class="banner-highlight">
        <p class="font-normal text-lg py-4 md:text-3xl lg:text-4xl">
          <span class="apostrophe">‘‘</span>
          Code should be easy to understand.
          <span class="apostrophe">’’</span>
        </p>
        <p class="author text-xs">Dustin Boswell and Trevor Foucher - The Art Of Readable Code</p>
      </div>

        <div class="page-content container flex flex-col p-5 m-auto">
  <h1>GitHub badges! (PHP repository)</h1>

  <main class="mb-5">
    <p>Disclaimer : If you don’t know what are badges I’d suggest a quick view to
<a href="https://poser.pugx.org" target="_blank">https://poser.pugx.org</a> which
is a open source project with badges for PHP projects. Also for this post I’m
assume you have a experience with GitHub already and know how to commit, push,
pull or use GitHub from web interface.</p>

<p>Repository used for this post you can find
<a href="https://github.com/marabesi/gnrephp" target="_blank">here</a>. Badges that we’re going to use:</p>

<ul>
  <li>Build Status</li>
  <li>Coverage Status</li>
  <li>Total Downloads</li>
  <li>Latest Stable Version</li>
  <li>Latest Unstable Version</li>
  <li>License</li>
</ul>

<h2 id="final-result">Final result</h2>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/badges2.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/badges2.png" alt="GitHub badges" /></a></p>

<h2 id="travis-ci">Travis CI</h2>

<p>First step is go to
<a href="https://travis-ci.org" target="_blank">https://travis-ci.org</a> and
click in Sign in with GitHub and Travis will ask you to sign with
your GitHub account. Fill the fields Username/Email and Password and click in
sign in (Don’t forget to allow Travis in your GitHub account). Now we have to go
to our profile in Travis and enable which repository we’re going to build.</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/travis2.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/travis2.png" alt="Travis CI repository list" /></a></p>

<p>If you have any issue doing this follow the step in travis CI website!</p>

<h2 id="travisyml">.travis.yml</h2>

<p>We have to tell Travis which configuration we’re going to use and to do that we
use a file called .travis.yml and push it to the root of the repository.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">php</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="m">5.3</span>
  <span class="pi">-</span> <span class="m">5.4</span>
  <span class="pi">-</span> <span class="m">5.5</span>
  <span class="pi">-</span> <span class="m">5.6</span>
  <span class="pi">-</span> <span class="s">hhvm</span>

<span class="na">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">composer install</span>
</code></pre></div></div>

<h2 id="readmemd">README.md</h2>

<p>The last step to use the <strong>Build Badge</strong> is update the file README.md
in your GitHub repository.</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/travis5.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/travis5.png" alt="Getting link to the badge" /></a></p>

<p>1. click on Build Passing in the left side of your repository name and a modal will appear.</p>
<ol>
  <li>Select which branch you’re going to use</li>
  <li>Select Markdown in the select box</li>
  <li>Copy the text in the text area</li>
  <li>Create a file in your repository called README.md (or just update it if exists) with the copied text in the step 4.</li>
</ol>

<h2 id="coveralls">Coveralls</h2>

<p>To use coverage badge we’re going to use
<a href="https://coveralls.io" target="_blank">https://coveralls.io</a> and as we
did with Travis we have to allow coveralls in our GitHub account. Go to
<a href="https://coveralls.io" target="_blank">https://coveralls.io</a> and click
in Free GitHub Sign-in. After a successful login click in add repos.</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/coverall.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/coverall.png" alt="Adding repositories in coveralls.io" /></a></p>

<p>Just like Travis select which one you’re going yo use.</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/coveralls3.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/coveralls3.png" alt="Coveralls repository list" /></a></p>

<h2 id="travisyml-1">.travis.yml</h2>

<p>To use coveralls.io you must have a test suite. Here we’re going to use phpunit
to execute our tests. We must update our .travis.yml file to execute our tests
and generate coverage in a XML format for coveralls.io.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">language</span><span class="pi">:</span> <span class="s">php</span>

<span class="na">php</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="m">5.3</span>
  <span class="pi">-</span> <span class="m">5.4</span>
  <span class="pi">-</span> <span class="m">5.5</span>
  <span class="pi">-</span> <span class="m">5.6</span>
  <span class="pi">-</span> <span class="s">hhvm</span>

<span class="na">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">composer install</span>

<span class="na">script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">mkdir -p build/logs</span> 
  <span class="pi">-</span> <span class="s">phpunit --coverage-clover build/logs/clover.xml</span>

<span class="na">after_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">php vendor/bin/coveralls -v</span>
</code></pre></div></div>

<p>As you can see we add some extra tasks to Travis, just update yours
.travis.yml and push it to the repository.</p>

<h2 id="coverallsyml">.coveralls.yml</h2>

<p>To get coveralls working correctly we should create a file called .coveralls.yml
with the following content:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">src_dir</span><span class="pi">:</span> <span class="s">.</span>
</code></pre></div></div>

<p>After that push it to your repository. Otherwise you’ll get an
InvalidArgumentException from Travis build:</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/error-co.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/error-co.png" alt="Coveralls error" /></a></p>

<h2 id="readmemd-1">README.md</h2>

<p>Now we have Travis working together with coveralls.io. We need just
to update our README.me with the badge.</p>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/c-badge.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/c-badge.png" alt="Coveralls report" /></a></p>

<ol>
  <li>Go to https://coveralls.io/repos</li>
  <li>Select your repository in the list</li>
  <li>In the rightmost look at the bottom and find Readme Badge and click on it.</li>
  <li>Wen the pop-up shows select the Markdown text</li>
  <li>Update your README.md on GitHub with this text</li>
</ol>

<h2 id="important">IMPORTANT</h2>

<p>To follow the next section, your repository must be hosted at
<a href="https://packagist.org" target="_blank">https://packagist.org</a> otherwise it
wont work.</p>

<h2 id="total-downloadslatest-stable-versionlatest-unstable-versionlicense">Total Downloads, Latest Stable Version, Latest Unstable Version, License</h2>

<p>Now we have our two badges(Build with Travis and Code Coverage with Coveralls)
in our repository, but we have 4 badges to be done yet. The reason I left those
for last is simple: you can find them at
<a href="https://poser.pugx.org" target="_blank">https://poser.pugx.org</a>.</p>

<ol>
  <li>Type your repository name in the text box</li>
  <li>Select which you want to and select the Markdown text or click in Copy to clipboard</li>
  <li>Update your README.md in your repository</li>
</ol>

<p><a href="/images/posts/2015-06-28-github-badges-php-repository/poser-c.png" target="_blank"><img src="/images/posts/2015-06-28-github-badges-php-repository/poser-c.png" alt="Poser website" /></a></p>

<h2 id="references">References</h2>

<p>InvalidArgumentException with Coveralls - <a href="https://github.com/lemurheavy/coveralls-public/issues/45" target="_blank">https://github.com/lemurheavy/coveralls-public/issues/45</a></p>

<p>Adding Build Badge with Travis - <a href="http://stackoverflow.com/questions/19810386/showing-travis-build-status-in-github-repo" target="_blank">http://stackoverflow.com/questions/19810386/showing-travis-build-status-in-github-repo</a></p>

  </main>

  

<style>
#share-buttons {display: flex; justify-content: center; align-items: center;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #f12f46; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<div id="share-buttons" class="mb-5">
    <span>Share this on</span>
    <div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https://marabesi.com/php/2015/06/28/github-badges-php-repository.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="window.open('https://twitter.com/intent/tweet?text=https://marabesi.com/php/2015/06/28/github-badges-php-repository.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https://marabesi.com/php/2015/06/28/github-badges-php-repository.html&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
</div>

  <div id="disqus_thread"></div>
</div>


      <div class="footer">
        <div class="footer-details">
          Designed by @tamyitokazo
        </div>
      </div>
    </div>

    
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
          m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-58623708-1', 'auto');
      ga('send', 'pageview');
    </script>
    

    <script async src="/assets/main-bundle.js"></script>
  </body>
</html>